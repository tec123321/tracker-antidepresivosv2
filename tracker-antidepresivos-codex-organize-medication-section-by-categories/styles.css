:root {
  /* =========================================
     1. PALETA DE COLORES (MODO OSCURO - DEFAULT)
     ========================================= */
  
  /* Fondos principales */
  --bg: #0f172a;
  --bg-gradient: radial-gradient(circle at 10% 20%, rgba(94, 234, 212, 0.08), transparent 25%);
  
  /* Contenedores y Paneles */
  --panel: #111827;
  --card: #0b1220;
  --pill-bg: rgba(12, 18, 35, 0.8);
  --hero-bg: linear-gradient(120deg, rgba(20, 184, 166, 0.08), rgba(15, 23, 42, 0.9));
  
  /* Elementos de Formulario */
  --input-bg: rgba(255, 255, 255, 0.05);
  --input-border: rgba(255, 255, 255, 0.08);
  --input-text: #e2e8f0;
  --input-focus: rgba(94, 234, 212, 0.12);

  /* Texto */
  --text: #e2e8f0;
  --muted: #94a3b8; /* Slate 400 */
  
  /* Acentos y Bordes */
  --accent: #5eead4;       /* Teal 300 */
  --accent-strong: #14b8a6; /* Teal 500 */
  --border: #1f2937;
  --danger: #f43f5e;
  
  /* Botones e interactivos */
  --ghost-bg: rgba(255, 255, 255, 0.06);
  --ghost-border: rgba(255, 255, 255, 0.1);
  --hover-transform: translateY(-1px);

  /* Elementos específicos */
  --dot-bg: rgba(255, 255, 255, 0.04);
  --chip-bg: rgba(255, 255, 255, 0.04);
}

/* =========================================
   2. SOBREESCRITURA PARA MODO CLARO
   ========================================= */
body.light-mode {
  /* Fondos principales */
  --bg: #f8fafc; /* Slate 50 */
  --bg-gradient: radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.1), transparent 25%);
  
  /* Contenedores y Paneles */
  --panel: #ffffff;
  --card: #f1f5f9; /* Slate 100 */
  --pill-bg: rgba(255, 255, 255, 0.8);
  --hero-bg: linear-gradient(120deg, rgba(6, 182, 212, 0.1), rgba(255, 255, 255, 0.9));
  
  /* Elementos de Formulario */
  --input-bg: #ffffff;
  --input-border: #cbd5e1; /* Slate 300 */
  --input-text: #0f172a;
  --input-focus: rgba(8, 145, 178, 0.1);

  /* Texto */
  --text: #0f172a; /* Slate 900 */
  --muted: #64748b; /* Slate 500 - Más oscuro para leerse bien en blanco */
  
  /* Acentos y Bordes */
  --accent: #0891b2;       /* Cyan 600 */
  --accent-strong: #0e7490; /* Cyan 700 */
  --border: #e2e8f0;       /* Slate 200 */
  --danger: #ef4444;
  
  /* Botones e interactivos */
  --ghost-bg: rgba(0, 0, 0, 0.04);
  --ghost-border: rgba(0, 0, 0, 0.1);

  /* Elementos específicos */
  --dot-bg: #e2e8f0;
  --chip-bg: #ffffff;
}

/* =========================================
   3. ESTILOS GENERALES (USANDO SOLO VARIABLES)
   ========================================= */
* {
  box-sizing: border-box;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

body {
  margin: 0;
  background-color: var(--bg);
  background-image: var(--bg-gradient);
  background-attachment: fixed; /* Mantiene el gradiente fijo al hacer scroll */
  color: var(--text);
  min-height: 100vh;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* --- Títulos y Texto --- */
.eyebrow {
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 700;
  color: var(--accent);
  margin: 0 0 8px;
  font-size: 12px;
}

h1 {
  font-size: clamp(28px, 4vw, 42px);
  margin: 0 0 12px;
  color: var(--text);
}

h2, h3 {
  margin: 4px 0 6px;
  color: var(--text);
}

.lede {
  color: var(--muted);
  max-width: 580px;
  line-height: 1.6;
  margin: 0 0 20px;
}

.muted { color: var(--muted); margin: 0; }
.text-link { color: var(--accent); }

/* --- Hero Section --- */
.hero {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 32px;
  padding: 48px clamp(16px, 4vw, 56px);
  background: var(--hero-bg); /* Ahora usa la variable dinámica */
  border-bottom: 1px solid var(--border);
  transition: background 0.3s ease;
}

/* --- Componentes UI: Tarjetas y Paneles --- */
.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 20px clamp(16px, 2vw, 32px);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05); /* Sombra más sutil */
}

.pill-card {
  border: 1px solid var(--border);
  background: var(--pill-bg);
  padding: 16px;
  border-radius: 16px;
  display: grid;
  gap: 8px;
  height: fit-content;
  backdrop-filter: blur(8px); /* Efecto vidrio si el navegador lo soporta */
}

.pill-card__title {
  margin: 0;
  color: var(--muted);
  font-weight: 700;
}

.pill-card__stat {
  background: var(--dot-bg);
  padding: 12px;
  border-radius: 12px;
  font-weight: 700;
  color: var(--text);
  border: 1px solid var(--border); /* Añadido borde sutil para contraste */
}

/* --- Botones --- */
.actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

button, .link-button {
  border: none;
  border-radius: 12px;
  padding: 12px 16px;
  font-weight: 700;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.1s ease, background 0.2s ease, color 0.2s ease;
}

button:hover, .link-button:hover {
  transform: var(--hover-transform);
}

.primary {
  background: linear-gradient(120deg, var(--accent-strong), var(--accent));
  color: #ffffff; /* Texto blanco siempre en botón primario */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}
/* Ajuste para texto oscuro si el accent es muy claro en modo oscuro, 
   pero blanco suele ir bien con teal/cyan */
body:not(.light-mode) .primary { color: #0f172a; } 

.ghost {
  background: var(--ghost-bg);
  color: var(--text);
  border: 1px solid var(--ghost-border);
}

/* --- Formularios (Inputs) --- */
.form-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

label {
  display: grid;
  gap: 6px;
  font-weight: 700;
  color: var(--muted);
}

input, textarea, select {
  background: var(--input-bg);
  color: var(--input-text);
  border: 1px solid var(--input-border);
  border-radius: 10px;
  padding: 10px 12px;
  outline: none;
  transition: border-color 0.2s, background 0.2s;
}

input:focus, textarea:focus, select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--input-focus);
  background: var(--panel); /* Asegura legibilidad al enfocar */
}

/* --- Listas y Grid de Chips --- */
.catalog-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.chip-grid {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  padding: 8px 0 4px;
}

.chip {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--chip-bg);
  color: var(--text);
  font-weight: 700;
}

/* --- Tarjetas de Medicación --- */
.med-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

.med-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  display: grid;
  gap: 10px;
}

.med-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.card-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

/* --- Badges y Estados --- */
.badge {
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 12px;
  border: 1px solid transparent;
}

/* Para los badges usamos colores fijos con opacidad o variables específicas si quisieras.
   Aquí usaré valores fijos RGBA que suelen funcionar en ambos modos, 
   o ajustaremos ligeramente. */

.badge.due { 
  background: rgba(244, 63, 94, 0.12); 
  color: var(--danger); 
  border-color: rgba(244, 63, 94, 0.3); 
}
.badge.ok { 
  background: rgba(14, 165, 233, 0.12); /* Sky blue */
  color: var(--accent); 
  border-color: var(--accent);
  opacity: 0.9;
}
.badge.snoozed { 
  background: rgba(245, 158, 11, 0.12); /* Amber */
  color: #f59e0b; 
  border-color: rgba(245, 158, 11, 0.3); 
}
/* Ajuste de color badge snoozed para light mode */
body.light-mode .badge.snoozed { color: #d97706; border-color: #d97706; }


.badge-low { background:rgba(14, 165, 233, 0.1); color:#0ea5e9; border:1px solid rgba(14, 165, 233,0.3); }
.badge-medium { background:rgba(234, 179, 8, 0.1); color:#eab308; border:1px solid rgba(234, 179, 8,0.3); }
.badge-high { background:rgba(244, 63, 94, 0.1); color:#f43f5e; border:1px solid rgba(244, 63, 94,0.3); }

/* Ajuste de contraste para Badges en modo claro */
body.light-mode .badge-low { color:#0284c7; border-color:#0284c7; }
body.light-mode .badge-medium { color:#ca8a04; border-color:#ca8a04; }
body.light-mode .badge-high { color:#e11d48; border-color:#e11d48; }


/* --- Timeline Dots --- */
.timeline {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(36px, 1fr));
  gap: 8px;
}

.dot {
  height: 36px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--dot-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--muted);
}

.dot.done { 
  background: rgba(20, 184, 166, 0.2); 
  color: var(--text); 
  border-color: var(--accent-strong); 
}
body.light-mode .dot.done {
  background: rgba(13, 148, 136, 0.2);
  color: #134e4a;
}

.dot.pending { 
  background: rgba(245, 158, 11, 0.12); 
  border-color: rgba(245, 158, 11, 0.4); 
  color: #fbbf24; 
}
body.light-mode .dot.pending { color: #d97706; }

.dot.future { opacity: 0.5; }
.dot.current { box-shadow: 0 0 0 2px var(--accent); }

/* --- Recordatorios y Alertas --- */
.reminder-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

.reminder-card {
  border: 1px solid var(--border);
  background: var(--card); /* Usar variable card */
  border-radius: 14px;
  padding: 12px;
  display: grid;
  gap: 6px;
}

.reminder-card__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.inline-input {
  display: flex;
  gap: 6px;
  align-items: center;
}

.alert-card {
  background: var(--chip-bg);
  border: 1px dashed var(--border);
  border-radius: 14px;
  padding: 16px;
  display: grid;
  gap: 8px;
}

.alert-card__head {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.alert-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}

.alert-list__item {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  border: 1px solid var(--border);
  background: var(--card);
  padding: 12px;
  border-radius: 12px;
}

/* --- Modales --- */
.alert-modal, .progress-form {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  width: min(560px, 100%);
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.5);
  color: var(--text);
}

.progress-form {
  display: grid;
  gap: 10px;
}

.range-labels {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: var(--muted);
}

.checkbox {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 8px;
}

.form-actions { display: flex; gap: 8px; }

/* --- Media Queries --- */
@media (max-width: 860px) {
  .hero {
    grid-template-columns: 1fr;
  }
}

/* Layout Main Padding */
main {
  padding: 32px clamp(16px, 4vw, 56px) 64px;
  display: grid;
  gap: 28px;
}
